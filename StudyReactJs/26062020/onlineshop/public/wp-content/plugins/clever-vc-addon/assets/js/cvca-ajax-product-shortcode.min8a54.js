!function(a){"use strict";jQuery(document).ready(function(){var t=a(".cvca-products-wrap");a(".cvca-products-wrap .cvca_search_button").live("click",function(){var e=a(this).prev().val(),c=a(this);a.ajax({url:t.data("url"),data:{action:"cvca_ajax_product_filter",cvca_search:e},type:"POST"}).success(function(a){c.parent().next().html(a)})}),t.find(".cvca-ajax-load a, .cvca-remove-attribute").on("click",function(e){e.preventDefault();var c=a(this);t=c.parents(".cvca-products-wrap"),t.addClass("loading");var r=(c.attr("href"),c.attr("title"),t.data("args"));if(r.action="cvca_ajax_product_filter",c.hasClass("cvca-product-attribute")?"object"!=typeof r.product_attribute||c.hasClass("active")?(r.product_attribute=[],r.attribute_value=[]):(r.product_attribute.push(c.data("value")),r.attribute_value.push(c.data("attribute_value"))):r[c.data("type")]=c.data("value"),r.paged=1,"product_cat"==c.data("type")&&(r.product_attribute=[],r.attribute_value=[],r.product_tag="",r.filter_categories=c.data("value"),r.show=""),"cvca-reset-filter"==c.data("type")&&(r.product_attribute=[],r.attribute_value=[],r.product_tag="",r.filter_categories=t.data("categories"),r.show="",r.price_filter=0,a(".wrap-content-product-filter ").find(".active").removeClass("active")),"cvca-remove-attr"==c.data("type")){var o=(c.next().data("value"),c.next().data("attribute_value")),i=r.attribute_value.indexOf(o);i>-1&&(r.attribute_value.splice(i,1),r.product_attribute.splice(i,1))}"cvca-remove-price"==c.data("type")&&(r.price_filter=0);var d=a('input[name="s"]').val();""!=d&&(r.s=d),c.hasClass("active")&&"cvca-reset-filter"!=c.data("type")?("product_cat"==c.data("type")?(r.filter_categories=t.data("categories"),c.parents(".cvca-list-product-category").find("li:first-child a").addClass("active")):r[c.data("type")]="",c.removeClass("active")):(c.parents(".cvca-ajax-load ").find(".active").removeClass("active"),c.addClass("active")),t.data("original",r),t.data("args",r),a.ajax({url:t.data("url"),data:r,type:"POST",success:function(){}}).success(function(e){var c=a(e).find(".products");t.find(".products").html(c.html()),c.find(".product")[0]||t.find(".products").html('<h3 class="products-emt">'+t.data("empty")+"</h3>"),t.find(".cvca_ajax_load_more_button")[0]&&(a(e).find(".cvca_ajax_load_more_button").data("maxpage")==r.paged?t.find(".cvca_ajax_load_more_button").addClass("disable").html(t.find(".cvca_ajax_load_more_button").data("empty")):t.find(".cvca_ajax_load_more_button").data("maxpage",a(e).find(".cvca_ajax_load_more_button").data("maxpage")),a(e).find(".cvca_ajax_load_more_button")[0]?t.find(".cvca_ajax_load_more_button").removeClass("disable").html(a(e).find(".cvca_ajax_load_more_button").html()):t.find(".cvca_ajax_load_more_button").addClass("disable").html(t.find(".cvca_ajax_load_more_button").data("empty"))),t.removeClass("loading"),a('[data-toggle="tooltip"]').tooltip()})}),t.find(".cvca-ajax-load-filter a:not(active), .cvca-remove-attribute").on("click",function(e){e.preventDefault();var c=a(this);t=c.parents(".cvca-products-wrap"),t.addClass("loading");var r=(c.attr("href"),c.attr("title"),t.data("args")),o=t.data("config");if(r.action="cvca_ajax_product_filter_banner",c.hasClass("cvca-product-attribute")?"object"!=typeof r.product_attribute||c.hasClass("active")?(r.product_attribute=[],r.attribute_value=[]):(r.product_attribute.push(c.data("value")),r.attribute_value.push(c.data("attribute_value"))):r[c.data("type")]=c.data("value"),r.paged=1,"product_cat"==c.data("type")&&(r.product_attribute=[],r.attribute_value=[],r.product_tag="",r.filter_categories=c.data("value"),r.show=""),"cvca-reset-filter"==c.data("type")&&(r.product_attribute=[],r.attribute_value=[],r.product_tag="",r.filter_categories=t.data("categories"),r.show="",r.price_filter=0,a(".wrap-content-product-filter ").find(".active").removeClass("active")),"cvca-remove-attr"==c.data("type")){var i=(c.next().data("value"),c.next().data("attribute_value")),d=r.attribute_value.indexOf(i);d>-1&&(r.attribute_value.splice(d,1),r.product_attribute.splice(d,1))}"cvca-remove-price"==c.data("type")&&(r.price_filter=0);var s=a('input[name="s"]').val();""!=s&&(r.s=s),c.hasClass("active")&&"cvca-reset-filter"!=c.data("type")?("product_cat"==c.data("type")?(r.filter_categories=t.data("categories"),c.parents(".cvca-list-product-category").find("li:first-child a").addClass("active")):r[c.data("type")]="",c.removeClass("active")):(c.parents(".cvca-ajax-load-filter").find(".active").removeClass("active"),c.addClass("active")),t.data("original",r),t.data("args",r),a.ajax({url:t.data("url"),data:r,type:"POST",success:function(){}}).success(function(e){var c=a(e).find(".products");t.find(".products").html('<div class="products-ajax">'+c.html()+"</div>"),c.find(".product")[0]||t.find(".products").html('<h3 class="products-emt">'+t.data("empty")+"</h3>"),t.find(".cvca_ajax_load_more_button")[0]&&(a(e).find(".cvca_ajax_load_more_button").data("maxpage")==r.paged?t.find(".cvca_ajax_load_more_button").addClass("disable").html(t.find(".cvca_ajax_load_more_button").data("empty")):t.find(".cvca_ajax_load_more_button").data("maxpage",a(e).find(".cvca_ajax_load_more_button").data("maxpage")),a(e).find(".cvca_ajax_load_more_button")[0]?t.find(".cvca_ajax_load_more_button").removeClass("disable").html(a(e).find(".cvca_ajax_load_more_button").html()):t.find(".cvca_ajax_load_more_button").addClass("disable").html(t.find(".cvca_ajax_load_more_button").data("empty"))),t.find(".products-ajax").slick({infinite:!0,slidesToShow:o.item,slidesToScroll:1,autoplay:!0,prevArrow:'<span class="cvca-carousel-btn prev-item"><i class="cs-font clever-icon-arrow-left-1"></i></span>',nextArrow:'<span class="cvca-carousel-btn next-item "><i class="cs-font clever-icon-arrow-right-1"></i></span>'}),t.removeClass("loading"),a('[data-toggle="tooltip"]').tooltip()})}),a(".cvca-products-wrap .cvca_ajax_load_more_button").live("click",function(t){if(t.preventDefault(),!a(this).hasClass("disable")){var e=a(this).parents(".cvca-products-wrap"),c=e,r=e.data("args");a(this).addClass("cvca-loading");var o=a(this).data("maxpage");r.paged<o&&(r.action="cvca_ajax_product_filter",r.paged=parseInt(r.paged)+parseInt(1),a.ajax({url:a(this).attr("href"),data:r,type:"POST",success:function(){jQuery(".cvca-carousel").each(function(){var t=JSON.parse(jQuery(this).attr("data-config")),e=t.item,c=!1;void 0!=t.pagination&&"true"==t.pagination&&(c=!0);var r=!1;void 0!=t.navigation&&"true"==t.navigation&&(r=!0);var o=void 0!=t.wrap?t.wrap:"",i=""!=o?jQuery(this).find(o):jQuery(this);i.slick({slidesToShow:e,slidesToScroll:e>5?Math.round(e/2):1,arrows:r,dots:c,autoplay:!0,prevArrow:'<span class="cvca-carousel-btn prev-item"><i class="cs-font clever-icon-arrow-left-1"></i></span>',nextArrow:'<span class="cvca-carousel-btn next-item "><i class="cs-font clever-icon-arrow-right-1"></i></span>',autoplaySpeed:5e3,rtl:!!a("body.rtl")[0],responsive:[{breakpoint:1024,settings:{slidesToShow:e>4?4:e,slidesToScroll:e>4?2:1}},{breakpoint:769,settings:{slidesToShow:e>3?3:e,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:e>2?2:e,slidesToScroll:1}}]})})}}).success(function(t){c.find(".products").append(a(t).find(".products").html()),o==r.paged?c.find(".cvca_ajax_load_more_button").addClass("disable").html(c.find(".cvca_ajax_load_more_button").data("empty")):c.find(".cvca_ajax_load_more_button").show(),c.find(".cvca_ajax_load_more_button").removeClass("cvca-loading")}))}}),a(".header-product-filter .toogle-filter").on("click",function(){a(".content-product-filter").slideToggle()})})}(jQuery);